<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Furby WebBluetooth</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body { font-family: sans}
    button { font-size: 14pt }
    .row { display: flex; margin: .6em 0; align-items: center }
    .row button, .row input[type=range], .row select { flex-grow: 1; margin: .2em; height: 3em}

    #out { display: none; position: absolute; bottom: 0; left: 0; background: #eee; overflow: scroll; width: 100%; height: 12em; padding: 0.5em }

    h1 { font-size: 15pt; margin: 0 0 0.3em 0}
    progress { width: 100%; display:none}
</style>
</head>
<body>


<div class='row'>
    <div><h1>FurBLE Demo</h1>
    State: <span id="state">Not connected</span></div>
    <button id="connbtn" onclick="doConnectDisconnect()">Connect</button>
</div>

<div class='row'>
    <button onclick='setAntennaColor(255, 0,0)'>Red</button>
    <button onclick='setAntennaColor(0, 255,0)'>Green</button>
    <button onclick='setAntennaColor(0, 0, 255)'>Blue</button>
    <button onclick='cycleDebug()'>Eye Debug</button>
</div>

<div class='row'>
    <button onclick='triggerAction(39,3,8,1)'>Legendary!</button>
    <button onclick='triggerAction(39,4,6,1)'>Nice</button>
    <button onclick='triggerAction(39,3,1,1)'>Hey, hey</button>
    <button onclick='triggerAction(75,0,4,4)'>75,0,4,4</button>
</div>

<div class='row'>
    <select id='dlcname'>
        <option value='dlc/tu003410_minified_chilli.dlc'>Chilli Test</option>
        <option value='dlc/tu012700.dlc'>TU012700</option>
    </select>
    <button onclick="fetchAndUploadDLC(dlcsel.options[dlcsel.selectedIndex].value)">Upload DLC</button>
</div>
<progress id='dlcprogress'></progress>
<div id="out" style="white-space:pre">Console Log

</div>
<script>
    var dlcsel = document.getElementById('dlcname');
    var s = document.createElement('script');
    s.src='furble.js?' + Math.random();
    document.body.appendChild(s);
    s.onload = () => log('ready!');
</script>

</body>
</html>